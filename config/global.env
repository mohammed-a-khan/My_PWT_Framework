# ============================================================================
#                CS TEST AUTOMATION FRAMEWORK - GLOBAL CONFIGURATION
#                            Version 3.0.0 - Production Ready
# ============================================================================
# This file contains all configuration properties used throughout the framework.
# All properties listed here are actively used in the codebase.
# Properties support environment variable overrides and interpolation.
# ============================================================================

# ====================================================================================
# CORE FRAMEWORK CONFIGURATION
# ====================================================================================

# Framework identification
FRAMEWORK_NAME=CS Test Automation
FRAMEWORK_VERSION=3.0.0
# Framework execution mode: optimized | standard | debug
FRAMEWORK_MODE=optimized

# Project and environment settings (supports interpolation in other properties)
PROJECT=common
ENVIRONMENT=dev
BASE_URL=https://app.{environment}.{project}.com

# ====================================================================================
# CROSS-DOMAIN NAVIGATION CONFIGURATION
# ====================================================================================

# Enable cross-domain navigation support (for SSO, Netscaler, etc.)
CROSS_DOMAIN_NAVIGATION_ENABLED=true
# Maximum time to wait for cross-domain navigation (ms)
CROSS_DOMAIN_NAVIGATION_TIMEOUT=60000
# Maximum number of redirects to follow
CROSS_DOMAIN_MAX_REDIRECTS=5
# Update original domain on navigation
CROSS_DOMAIN_UPDATE_ON_NAVIGATE=false
# Comma-separated list of additional auth providers to detect
# Default includes: netscaler,citrix,auth,login,sso,adfs,okta,ping,azure,keycloak
CROSS_DOMAIN_AUTH_PROVIDERS=

# ====================================================================================
# BROWSER CONFIGURATION
# ====================================================================================

# Browser type: chrome | firefox | webkit | edge | safari
# Default: chrome (when not specified)
BROWSER=chrome

# Run browser in headless mode
# Default: false (when not specified)
HEADLESS=false

# Browser viewport settings
BROWSER_VIEWPORT_WIDTH=1920
BROWSER_VIEWPORT_HEIGHT=1080

# Browser launch settings
BROWSER_LAUNCH_TIMEOUT=30000
BROWSER_DEVTOOLS=false
# Slow down browser actions by specified milliseconds (useful for debugging)
BROWSER_SLOWMO=0

# Browser security settings
BROWSER_IGNORE_HTTPS_ERRORS=true
BROWSER_NO_SANDBOX=false
BROWSER_DISABLE_GPU=false

# Browser locale and timezone
BROWSER_LOCALE=en-US
BROWSER_TIMEZONE=America/New_York

# Browser appearance preferences
BROWSER_COLOR_SCHEME=light
BROWSER_REDUCED_MOTION=no-preference
BROWSER_FORCED_COLORS=none

# Browser authentication (for sites with basic auth)
BROWSER_HTTP_USERNAME=
BROWSER_HTTP_PASSWORD=

# Additional browser options
BROWSER_OFFLINE=false
BROWSER_INCOGNITO=false
BROWSER_PRIVATE=false
BROWSER_USER_AGENT=
BROWSER_EXTRA_HEADERS=

# Browser geolocation settings (when needed for testing)
BROWSER_GEOLOCATION_LAT=
BROWSER_GEOLOCATION_LON=

# ====================================================================================
# BROWSER TIMEOUTS
# ====================================================================================

# Default timeout for all operations in milliseconds
# Used as global timeout when specific timeouts are not set
TIMEOUT=30000

# Specific timeout configurations
BROWSER_ACTION_TIMEOUT=10000
BROWSER_NAVIGATION_TIMEOUT=30000
BROWSER_AUTO_WAIT_TIMEOUT=5000
ELEMENT_TIMEOUT=10000


# ====================================================================================
# BROWSER INSTANCE MANAGEMENT
# ====================================================================================

# Browser reuse configuration
# Reuse browser between scenarios instead of closing after each one
# This can significantly speed up test execution but may cause state leakage
BROWSER_REUSE_ENABLED=true
# Clear cookies/storage when reusing browser (only when BROWSER_REUSE_ENABLED=true)
BROWSER_REUSE_CLEAR_STATE=true
# Close browser after N scenarios (0 = never close until end)
BROWSER_REUSE_CLOSE_AFTER_SCENARIOS=0

# Browser health and restart settings
BROWSER_AUTO_RESTART_ON_CRASH=true
BROWSER_MAX_RESTART_ATTEMPTS=3

# ====================================================================================
# BROWSER PROXY CONFIGURATION
# ====================================================================================

BROWSER_PROXY_ENABLED=false
# Proxy server URL (e.g., http://proxy.company.com:8080)
BROWSER_PROXY_SERVER=
BROWSER_PROXY_USERNAME=
BROWSER_PROXY_PASSWORD=
# Comma-separated list of hosts to bypass proxy
BROWSER_PROXY_BYPASS=localhost,127.0.0.1

# ====================================================================================
# MEDIA CAPTURE CONFIGURATION
# ====================================================================================

# Video recording: off | on | retain-on-failure | on-first-retry
# NOTE: With browser reuse enabled, video records entire browser session (not per scenario)
# To get per-scenario videos, set BROWSER_REUSE_ENABLED=false
BROWSER_VIDEO=off
# Video dimensions
BROWSER_VIDEO_WIDTH=1280
BROWSER_VIDEO_HEIGHT=720
VIDEO_DIR=./videos
# Trim video to last N seconds on failure
VIDEO_TRIM_ON_FAILURE=true

# Screenshot configuration
# When to capture: never | always | on-failure
SCREENSHOT_CAPTURE_MODE=on-failure
# Take screenshots on test/step failures
SCREENSHOT_ON_FAILURE=true
SCREENSHOT_ON_STEP_FAILURE=true
# Take screenshot before assertions (helps debug failures)
PRE_ASSERTION_SCREENSHOT=true

# Browser trace recording (Playwright trace viewer)
# NOTE: Trace recording can be enabled via BROWSER_TRACE_ENABLED=true OR TRACE_CAPTURE_MODE (not 'never')
# With browser reuse enabled, traces are saved per-scenario (not per browser session)
BROWSER_TRACE_ENABLED=false
# Capture modes: never | always | on-failure | on-first-retry
TRACE_CAPTURE_MODE=on-failure

# HAR (HTTP Archive) recording for network analysis
# NOTE: Both BROWSER_HAR_ENABLED=true AND HAR_CAPTURE_MODE must be set (not 'never')
# HAR recording requires context closure to save, so with browser reuse enabled,
# you get one HAR file per browser session (not per scenario)
BROWSER_HAR_ENABLED=false
BROWSER_HAR_OMIT_CONTENT=false
# Capture modes: never | always | on-failure
HAR_CAPTURE_MODE=on-failure

# Console log capture from browser
CONSOLE_LOG_CAPTURE=true
DEBUG_CONSOLE_LOGS=false

# ====================================================================================
# PARALLEL EXECUTION
# ====================================================================================

# Enable parallel execution
PARALLEL=false
# Maximum number of parallel workers
MAX_PARALLEL_WORKERS=4
# Actual number of workers to use (when parallel is enabled)
PARALLEL_WORKERS=3
# Use worker threads instead of child processes
USE_WORKER_THREADS=true
# Enable parallel initialization for faster startup
PARALLEL_INITIALIZATION=true

# ====================================================================================
# TEST EXECUTION CONFIGURATION
# ====================================================================================

# Feature file paths (supports glob patterns)
FEATURES=test/*/features/*.feature
FEATURE_PATH=test/*/features

# Test retry configuration
RETRY_COUNT=2

# Step definition paths (semicolon separated, supports {project} placeholder)
STEP_DEFINITIONS_PATH=test/common/steps;test/{project}/steps

# Selective step loading for performance
SELECTIVE_STEP_LOADING=true

# Step validation
VALIDATE_DUPLICATE_STEPS=true
VALIDATE_DUPLICATE_METHODS=true
# Validation level: error | warn | none
VALIDATION_LEVEL=error

# API test configuration
API_TESTS=
# Database test configuration
DB_TESTS=

# ====================================================================================
# ELEMENT INTERACTION
# ====================================================================================

# Number of retries for element operations
ELEMENT_RETRY_COUNT=3
# Clear input field before typing
ELEMENT_CLEAR_BEFORE_TYPE=true

# Spinner/loader detection (semicolon separated CSS selectors)
SPINNER_SELECTORS=.spinner;.loading;.loader;#loading
# Wait for spinners to disappear before actions
WAIT_FOR_SPINNERS=true

# ====================================================================================
# SELF-HEALING & AI
# ====================================================================================

# Enable self-healing for broken locators
SELF_HEALING_ENABLED=true

# Enable AI-powered features
AI_ENABLED=false
# Confidence threshold for AI predictions (0.0 to 1.0)
AI_CONFIDENCE_THRESHOLD=0.7

# ====================================================================================
# REPORTING CONFIGURATION
# ====================================================================================

# Report output directory
REPORTS_BASE_DIR=./reports
# Create timestamp-based folders for each test run
REPORTS_CREATE_TIMESTAMP_FOLDER=true
# Directory for test results (auto-generated if not set)
TEST_RESULTS_DIR=

# Report types to generate (comma-separated: html,json,junit)
REPORT_TYPES=html

# Report archiving
REPORTS_ZIP_RESULTS=false
REPORTS_KEEP_UNZIPPED=true


# ====================================================================================
# API TESTING CONFIGURATION
# ====================================================================================

# API base URL (supports interpolation)
API_BASE_URL=https://api.{environment}.{project}.com
# API request timeout in milliseconds
API_TIMEOUT=30000
# Default headers (JSON format)
API_DEFAULT_HEADERS={}
# User agent for API requests
API_USER_AGENT=CS-Test-Automation-Framework/3.0

# API retry configuration
API_RETRY_COUNT=3
API_RETRY_DELAY=1000

# API logging
API_LOG_REQUESTS=true
API_LOG_RESPONSES=true

# Batch API operations
API_BATCH_FAIL_FAST=false

# ====================================================================================
# DATABASE CONFIGURATION
# ====================================================================================

# Enable database features
DB_ENABLED=false
# Database type: mysql | postgresql | mongodb | oracle | mssql
DB_TYPE=mysql
# Database connection details (support interpolation)
DB_HOST={project}-{environment}-db.cloud.com
DB_PORT=3306
DB_NAME={project}_{environment}
DB_USERNAME={project}_user
# Use ENCRYPTED: prefix for encrypted passwords
DB_PASSWORD=

# Connection pool settings
DB_CONNECTION_POOL_MIN=2
DB_CONNECTION_POOL_MAX=10

# Query settings
DB_QUERY_TIMEOUT=10000
DB_AUTO_ROLLBACK=false

# Transaction settings
# Isolation level: READ_UNCOMMITTED | READ_COMMITTED | REPEATABLE_READ | SERIALIZABLE
DB_TRANSACTION_ISOLATION=READ_COMMITTED
DB_TRANSACTION_TIMEOUT=30000
DB_ENABLE_SAVEPOINTS=false

# Retry configuration
DB_RETRY_ON_DEADLOCK=true
# Max retries for database operations
DB_MAX_RETRIES=3
DB_RETRY_DELAY=1000

# ====================================================================================
# AZURE DEVOPS INTEGRATION
# ====================================================================================

# Enable Azure DevOps integration
ADO_INTEGRATION_ENABLED=false
# Organization and project
ADO_ORGANIZATION={organization}
ADO_PROJECT={project}
ADO_PROJECT_ID=
# Personal Access Token (use ENCRYPTED: prefix for encrypted tokens)
ADO_PAT=
# API version
ADO_API_VERSION=7.0

# Test case management
ADO_UPDATE_TEST_CASES=true
ADO_CREATE_BUGS_ON_FAILURE=false
DEFAULT_BUG_ASSIGNEE=

# ADO API settings
ADO_API_TIMEOUT=30000
ADO_API_RETRY_COUNT=3
ADO_API_RETRY_DELAY=2000

# ADO Proxy configuration (if behind corporate proxy)
ADO_PROXY_ENABLED=false
ADO_PROXY_PROTOCOL=http
ADO_PROXY_HOST=proxy.company.com
ADO_PROXY_PORT=8080
ADO_PROXY_AUTH_REQUIRED=false
ADO_PROXY_USERNAME=
ADO_PROXY_PASSWORD=

# ====================================================================================
# AUTHENTICATION & TOKEN MANAGEMENT
# ====================================================================================

# Token storage directory
TOKEN_STORAGE_DIR=./tokens
# Auto-refresh tokens before expiry
TOKEN_AUTO_REFRESH_ENABLED=true
# Refresh tokens N seconds before expiry
TOKEN_REFRESH_BUFFER_TIME=300
# Token refresh retry settings
TOKEN_REFRESH_MAX_RETRIES=3
TOKEN_REFRESH_RETRY_DELAY=5000
# Background token refresh
TOKEN_BACKGROUND_REFRESH=true

# ====================================================================================
# EVIDENCE COLLECTION
# ====================================================================================

# Evidence storage path
EVIDENCE_PATH=./evidence
# Enable evidence collection
EVIDENCE_COLLECTION_ENABLED=true
# Auto-save evidence on test completion
AUTO_SAVE_EVIDENCE=true
# Mask sensitive data in evidence
EVIDENCE_MASK_SENSITIVE_DATA=true
# Package evidence into archive on completion
EVIDENCE_PACKAGE_ON_COMPLETE=false

# ====================================================================================
# PERFORMANCE MONITORING
# ====================================================================================

# Performance metrics directory
PERFORMANCE_METRICS_DIR=./metrics
# Enable Core Web Vitals monitoring
PERFORMANCE_CORE_WEB_VITALS_ENABLED=true
# Enable resource budget monitoring
PERFORMANCE_RESOURCE_BUDGET_ENABLED=true
# Enable system resource monitoring
PERFORMANCE_SYSTEM_BUDGET_ENABLED=false
# Monitoring interval in milliseconds
PERFORMANCE_MONITORING_INTERVAL=1000

# ====================================================================================
# VISUAL TESTING
# ====================================================================================

# Visual comparison threshold (0.0 to 1.0, lower = more strict)
VISUAL_THRESHOLD=0.1
# Baseline images directory
BASELINE_DIR=./baselines
# Visual diff output directory
DIFF_DIR=./diffs

# ====================================================================================
# DASHBOARD CONFIGURATION
# ====================================================================================

# Enable live test execution dashboard
DASHBOARD_ENABLED=false
# WebSocket port for dashboard
DASHBOARD_WS_PORT=8080
# Auto-open dashboard in browser
DASHBOARD_AUTO_OPEN=false

# ====================================================================================
# DATA GENERATION
# ====================================================================================

# Locale for test data generation
DATA_LOCALE=en_US
# Random seed for consistent data generation
DATA_SEED=

# ====================================================================================
# PERFORMANCE OPTIMIZATION
# ====================================================================================

# Lazy loading for faster startup
LAZY_LOADING=true
# Debug mode (enables additional logging and diagnostics)
DEBUG_MODE=false


# ====================================================================================
# CI/CD ENVIRONMENT VARIABLES (READ-ONLY)
# ====================================================================================
# These are automatically detected from CI/CD environments
# CI - Continuous Integration flag
# CI_NAME - Name of CI system (jenkins, azure-devops, github-actions, etc.)
# BUILD_NUMBER - Build number from CI
# BUILD_ID - Build ID from CI
# BRANCH_NAME - Git branch name
# COMMIT_SHA - Git commit SHA
# WORKER_ID - Worker thread identifier
# IS_WORKER - Flag indicating worker thread